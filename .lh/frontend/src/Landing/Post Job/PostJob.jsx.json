{
    "sourceFile": "frontend/src/Landing/Post Job/PostJob.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1768186009049,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1768190245118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,43 +1,80 @@\n+import { useState } from \"react\";\r\n import axios from \"axios\";\r\n-import { useState } from \"react\";\r\n \r\n-export const PostJob = () => {\r\n+function PostJob() {\r\n   const [form, setForm] = useState({\r\n     title: \"\",\r\n     description: \"\",\r\n     budget: \"\"\r\n   });\r\n \r\n-  const submitHandler = async (e) => {\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [message, setMessage] = useState(\"\");\r\n+\r\n+  const handleChange = (e) => {\r\n+    setForm({ ...form, [e.target.name]: e.target.value });\r\n+  };\r\n+\r\n+  const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n+    setLoading(true);\r\n+    setMessage(\"\");\r\n \r\n-    await axios.post(\r\n-      \"http://localhost:5000/api/gigs\",\r\n-      form,\r\n-      { withCredentials: true } // IMPORTANT\r\n-    );\r\n+    try {\r\n+      await axios.post(\"http://localhost:5000/api/gigs\", form);\r\n+      setMessage(\" Job posted successfully\");\r\n \r\n-    alert(\"Job posted successfully\");\r\n+      // clear form\r\n+      setForm({ title: \"\", description: \"\", budget: \"\" });\r\n+    } catch (error) {\r\n+      console.log(error);\r\n+      setMessage(\" Failed to post job\");\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n   };\r\n \r\n   return (\r\n-    <form onSubmit={submitHandler}>\r\n-      <input\r\n-        placeholder=\"Title\"\r\n-        onChange={(e) => setForm({ ...form, title: e.target.value })}\r\n-      />\r\n-      <textarea\r\n-        placeholder=\"Description\"\r\n-        onChange={(e) => setForm({ ...form, description: e.target.value })}\r\n-      />\r\n-      <input\r\n-        type=\"number\"\r\n-        placeholder=\"Budget\"\r\n-        onChange={(e) => setForm({ ...form, budget: e.target.value })}\r\n-      />\r\n-      <button type=\"submit\">Post Job</button>\r\n-    </form>\r\n+    <div style={{ padding: \"20px\", maxWidth: \"500px\" }}>\r\n+      <h2>Post a Job</h2>\r\n+\r\n+      <form onSubmit={handleSubmit}>\r\n+        <input\r\n+          name=\"title\"\r\n+          placeholder=\"Job Title\"\r\n+          value={form.title}\r\n+          onChange={handleChange}\r\n+          required\r\n+          style={{ width: \"100%\", marginBottom: \"10px\" }}\r\n+        />\r\n+\r\n+        <textarea\r\n+          name=\"description\"\r\n+          placeholder=\"Job Description\"\r\n+          value={form.description}\r\n+          onChange={handleChange}\r\n+          required\r\n+          style={{ width: \"100%\", marginBottom: \"10px\" }}\r\n+        />\r\n+\r\n+        <input\r\n+          name=\"budget\"\r\n+          type=\"number\"\r\n+          placeholder=\"Budget\"\r\n+          value={form.budget}\r\n+          onChange={handleChange}\r\n+          required\r\n+          style={{ width: \"100%\", marginBottom: \"10px\" }}\r\n+        />\r\n+\r\n+        <button type=\"submit\" disabled={loading}>\r\n+          {loading ? \"Posting...\" : \"Post Job\"}\r\n+        </button>\r\n+      </form>\r\n+\r\n+      {message && <p>{message}</p>}\r\n+    </div>\r\n   );\r\n }\r\n \r\n-\r\n+export default PostJob;\r\n"
                }
            ],
            "date": 1768186009049,
            "name": "Commit-0",
            "content": "import axios from \"axios\";\r\nimport { useState } from \"react\";\r\n\r\nexport const PostJob = () => {\r\n  const [form, setForm] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    budget: \"\"\r\n  });\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    await axios.post(\r\n      \"http://localhost:5000/api/gigs\",\r\n      form,\r\n      { withCredentials: true } // IMPORTANT\r\n    );\r\n\r\n    alert(\"Job posted successfully\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={submitHandler}>\r\n      <input\r\n        placeholder=\"Title\"\r\n        onChange={(e) => setForm({ ...form, title: e.target.value })}\r\n      />\r\n      <textarea\r\n        placeholder=\"Description\"\r\n        onChange={(e) => setForm({ ...form, description: e.target.value })}\r\n      />\r\n      <input\r\n        type=\"number\"\r\n        placeholder=\"Budget\"\r\n        onChange={(e) => setForm({ ...form, budget: e.target.value })}\r\n      />\r\n      <button type=\"submit\">Post Job</button>\r\n    </form>\r\n  );\r\n}\r\n\r\n\r\n"
        }
    ]
}